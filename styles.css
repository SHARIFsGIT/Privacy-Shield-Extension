/* Privacy Shield Pro - Enhanced Content Script Styles */

/* ===== RESET CONFLICTING STYLES ===== */
*[style*="border-color: red"],
*[style*="border: red"],
[data-pagelet="Reels"],
[aria-label*="Reels"],
.reels-tab,
*[href*="/reels"],
*[data-testid*="reels"] {
  border-color: transparent !important;
  box-shadow: none !important;
}

/* ===== ACTIVE STATE ===== */
.privacy-shield-active {
  cursor: crosshair !important;
}

.privacy-shield-active * {
  cursor: crosshair !important;
}

/* Override any site-specific cursor styles when active */
.privacy-shield-active *:hover {
  cursor: crosshair !important;
}

/* ===== PROTECTED ELEMENTS ===== */
.privacy-shield-protected {
  position: relative !important;
  transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1) !important;
  cursor: pointer !important;
  z-index: auto !important;
}

/* Enhanced hover effects for protected elements */
.privacy-shield-protected:hover {
  transform: translateY(-1px) !important;
  box-shadow: 0 4px 20px rgba(76, 175, 80, 0.3) !important;
  z-index: 999995 !important;
}

/* Protection indicator badge */
.privacy-shield-protected::before {
  content: "üõ°Ô∏è" !important;
  position: absolute !important;
  top: -14px !important;
  right: -14px !important;
  background: linear-gradient(135deg, #4caf50, #45a049) !important;
  color: white !important;
  width: 28px !important;
  height: 28px !important;
  border-radius: 50% !important;
  display: flex !important;
  align-items: center !important;
  justify-content: center !important;
  font-size: 12px !important;
  z-index: 999996 !important;
  box-shadow: 0 2px 12px rgba(76, 175, 80, 0.4) !important;
  animation: protectionPulse 2s infinite !important;
  border: 3px solid white !important;
  font-family: "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol" !important;
  line-height: 1 !important;
  pointer-events: none !important;
}

/* Different badge styles for different protection modes */
.privacy-shield-protected[data-protection-mode="blur"]::before {
  background: linear-gradient(135deg, #2196f3, #1976d2) !important;
}

.privacy-shield-protected[data-protection-mode="mask"]::before {
  background: linear-gradient(135deg, #9c27b0, #7b1fa2) !important;
}

.privacy-shield-protected[data-protection-mode="pixelate"]::before {
  background: linear-gradient(135deg, #ff9800, #f57c00) !important;
}

.privacy-shield-protected[data-protection-mode="blackout"]::before {
  background: linear-gradient(135deg, #424242, #212121) !important;
}

/* ===== HOVER EFFECTS FOR UNPROTECTED ELEMENTS ===== */
.privacy-shield-active
  *:hover:not(.privacy-shield-protected):not(.privacy-notification):not(
    #emergency-overlay
  ):not(.element-tooltip) {
  outline: 2px dashed #2196f3 !important;
  outline-offset: 2px !important;
  transition: all 0.2s ease !important;
  background: rgba(33, 150, 243, 0.05) !important;
}

/* ===== PROTECTION MODE SPECIFIC STYLES ===== */

/* Blur protection */
.privacy-shield-protected[data-protection-mode="blur"] {
  border-radius: 8px !important;
  overflow: hidden !important;
  background: rgba(33, 150, 243, 0.1) !important;
  border: 2px solid rgba(33, 150, 243, 0.3) !important;
  backdrop-filter: blur(2px) !important;
}

/* Mask protection */
.privacy-shield-protected[data-protection-mode="mask"] {
  background: rgba(156, 39, 176, 0.1) !important;
  border: 2px solid rgba(156, 39, 176, 0.3) !important;
  border-radius: 6px !important;
  padding: 4px 8px !important;
  font-family: "Courier New", "Monaco", monospace !important;
  letter-spacing: 2px !important;
}

/* Pixelate protection */
.privacy-shield-protected[data-protection-mode="pixelate"] {
  background: rgba(255, 152, 0, 0.1) !important;
  border: 2px solid rgba(255, 152, 0, 0.3) !important;
  border-radius: 4px !important;
  image-rendering: pixelated !important;
  image-rendering: -moz-crisp-edges !important;
  image-rendering: crisp-edges !important;
}

/* Blackout protection */
.privacy-shield-protected[data-protection-mode="blackout"] {
  background: #000 !important;
  color: transparent !important;
  text-shadow: none !important;
  border: 2px solid rgba(66, 66, 66, 0.5) !important;
  border-radius: 6px !important;
}

.privacy-shield-protected[data-protection-mode="blackout"] * {
  color: transparent !important;
  background: #000 !important;
  text-shadow: none !important;
}

/* ===== ELEMENT TOOLTIP ===== */
.element-tooltip {
  position: fixed !important;
  background: rgba(0, 0, 0, 0.9) !important;
  color: white !important;
  padding: 8px 12px !important;
  border-radius: 8px !important;
  font-size: 12px !important;
  font-weight: 500 !important;
  z-index: 999999 !important;
  pointer-events: none !important;
  backdrop-filter: blur(10px) !important;
  font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif !important;
  box-shadow: 0 4px 20px rgba(0, 0, 0, 0.3) !important;
  border: 1px solid rgba(255, 255, 255, 0.2) !important;
  animation: tooltipAppear 0.2s ease !important;
  line-height: 1.4 !important;
}

/* ===== NOTIFICATIONS ===== */

/* Enhanced global notifications */
.privacy-notification.enhanced {
  position: fixed !important;
  top: 20px !important;
  right: 20px !important;
  background: white !important;
  color: #333 !important;
  padding: 16px 20px !important;
  border-radius: 12px !important;
  font-size: 14px !important;
  font-weight: 500 !important;
  z-index: 999998 !important;
  max-width: 400px !important;
  min-width: 320px !important;
  box-shadow: 0 8px 32px rgba(0, 0, 0, 0.15) !important;
  backdrop-filter: blur(20px) !important;
  border: 1px solid rgba(0, 0, 0, 0.1) !important;
  animation: enhancedNotificationSlide 0.5s
    cubic-bezier(0.175, 0.885, 0.32, 1.275) !important;
  display: flex !important;
  align-items: flex-start !important;
  gap: 12px !important;
  font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif !important;
  line-height: 1.5 !important;
}

.notification-content {
  flex: 1 !important;
}

.notification-message {
  font-weight: 600 !important;
  margin-bottom: 4px !important;
}

.notification-subtitle {
  font-size: 12px !important;
  opacity: 0.8 !important;
  font-weight: 400 !important;
}

.notification-close {
  background: none !important;
  border: none !important;
  color: #666 !important;
  font-size: 18px !important;
  cursor: pointer !important;
  opacity: 0.7 !important;
  transition: opacity 0.2s !important;
  padding: 0 !important;
  width: 20px !important;
  height: 20px !important;
  display: flex !important;
  align-items: center !important;
  justify-content: center !important;
  border-radius: 4px !important;
}

.notification-close:hover {
  opacity: 1 !important;
  background: rgba(0, 0, 0, 0.1) !important;
}

/* Positional click notifications */
.privacy-click-notification {
  position: fixed !important;
  background: linear-gradient(135deg, #4caf50, #45a049) !important;
  color: white !important;
  padding: 10px 16px !important;
  border-radius: 20px !important;
  font-size: 12px !important;
  font-weight: 600 !important;
  z-index: 999999 !important;
  pointer-events: none !important;
  box-shadow: 0 4px 20px rgba(76, 175, 80, 0.4) !important;
  animation: clickNotificationPop 0.6s cubic-bezier(0.68, -0.55, 0.265, 1.55) !important;
  backdrop-filter: blur(10px) !important;
  border: 2px solid rgba(255, 255, 255, 0.3) !important;
  font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif !important;
  line-height: 1 !important;
  white-space: nowrap !important;
}

/* ===== EMERGENCY OVERLAY ===== */
#emergency-overlay {
  position: fixed !important;
  top: 0 !important;
  left: 0 !important;
  width: 100% !important;
  height: 100% !important;
  background: rgba(32, 32, 32, 0.95) !important;
  z-index: 999999 !important;
  display: flex !important;
  align-items: center !important;
  justify-content: center !important;
  color: white !important;
  font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif !important;
  animation: emergencyAppear 0.8s cubic-bezier(0.175, 0.885, 0.32, 1.275) !important;
  backdrop-filter: blur(20px) !important;
}

#emergency-overlay .emergency-content {
  text-align: center !important;
  max-width: 600px !important;
  padding: 60px 40px !important;
}

#emergency-overlay .emergency-icon {
  font-size: 80px !important;
  margin-bottom: 30px !important;
  filter: drop-shadow(0 4px 8px rgba(0, 0, 0, 0.3)) !important;
  animation: emergencyIconPulse 2s infinite !important;
}

#emergency-overlay .emergency-title {
  font-size: 42px !important;
  font-weight: 700 !important;
  margin-bottom: 20px !important;
  text-shadow: 0 2px 4px rgba(0, 0, 0, 0.5) !important;
  letter-spacing: 2px !important;
}

#emergency-overlay .emergency-subtitle {
  font-size: 18px !important;
  margin-bottom: 16px !important;
  opacity: 0.9 !important;
  line-height: 1.6 !important;
}

#emergency-overlay .emergency-description {
  font-size: 14px !important;
  margin-bottom: 32px !important;
  opacity: 0.7 !important;
}

#emergency-overlay .emergency-buttons {
  display: flex !important;
  gap: 16px !important;
  justify-content: center !important;
  flex-wrap: wrap !important;
}

#emergency-overlay button {
  padding: 18px 36px !important;
  font-size: 16px !important;
  font-weight: 600 !important;
  border-radius: 12px !important;
  cursor: pointer !important;
  border: none !important;
  transition: all 0.3s ease !important;
  text-transform: uppercase !important;
  letter-spacing: 1px !important;
  font-family: inherit !important;
}

#emergency-overlay .restore-button {
  background: linear-gradient(135deg, #4caf50, #45a049) !important;
  color: white !important;
  box-shadow: 0 4px 20px rgba(76, 175, 80, 0.4) !important;
}

#emergency-overlay .refresh-button {
  background: linear-gradient(135deg, #2196f3, #1976d2) !important;
  color: white !important;
  box-shadow: 0 4px 20px rgba(33, 150, 243, 0.4) !important;
}

#emergency-overlay button:hover {
  transform: translateY(-2px) !important;
  box-shadow: 0 8px 30px rgba(0, 0, 0, 0.3) !important;
}

/* ===== SELECTION INDICATOR ===== */
.privacy-shield-selection-indicator {
  background: rgba(33, 150, 243, 0.2) !important;
  transition: background 0.3s ease !important;
  border-radius: 4px !important;
  box-shadow: 0 0 0 2px rgba(33, 150, 243, 0.3) !important;
}

/* ===== ANIMATIONS ===== */
@keyframes protectionPulse {
  0%,
  100% {
    transform: scale(1) !important;
    opacity: 1 !important;
  }
  50% {
    transform: scale(1.1) !important;
    opacity: 0.8 !important;
  }
}

@keyframes enhancedNotificationSlide {
  0% {
    opacity: 0 !important;
    transform: translateX(100%) scale(0.9) !important;
  }
  100% {
    opacity: 1 !important;
    transform: translateX(0) scale(1) !important;
  }
}

@keyframes enhancedNotificationOut {
  0% {
    opacity: 1 !important;
    transform: translateX(0) scale(1) !important;
  }
  100% {
    opacity: 0 !important;
    transform: translateX(100%) scale(0.9) !important;
  }
}

@keyframes clickNotificationPop {
  0% {
    opacity: 0 !important;
    transform: translateX(-50%) translateY(10px) scale(0.8) !important;
  }
  100% {
    opacity: 1 !important;
    transform: translateX(-50%) translateY(0) scale(1) !important;
  }
}

@keyframes clickNotificationFade {
  0% {
    opacity: 1 !important;
    transform: translateX(-50%) translateY(0) scale(1) !important;
  }
  100% {
    opacity: 0 !important;
    transform: translateX(-50%) translateY(-10px) scale(0.9) !important;
  }
}

@keyframes emergencyAppear {
  0% {
    opacity: 0 !important;
    transform: scale(0.8) !important;
    backdrop-filter: blur(0px) !important;
  }
  100% {
    opacity: 1 !important;
    transform: scale(1) !important;
    backdrop-filter: blur(20px) !important;
  }
}

@keyframes emergencyIconPulse {
  0%,
  100% {
    transform: scale(1) !important;
  }
  50% {
    transform: scale(1.05) !important;
  }
}

@keyframes tooltipAppear {
  0% {
    opacity: 0 !important;
    transform: translateY(5px) !important;
  }
  100% {
    opacity: 1 !important;
    transform: translateY(0) !important;
  }
}

/* ===== RESPONSIVE DESIGN ===== */
@media (max-width: 768px) {
  .privacy-notification.enhanced {
    right: 10px !important;
    left: 10px !important;
    max-width: none !important;
    min-width: auto !important;
    font-size: 13px !important;
  }

  .privacy-click-notification {
    font-size: 11px !important;
    padding: 8px 12px !important;
  }

  .privacy-shield-protected::before {
    width: 24px !important;
    height: 24px !important;
    font-size: 10px !important;
    top: -12px !important;
    right: -12px !important;
  }

  #emergency-overlay .emergency-content {
    padding: 40px 20px !important;
  }

  #emergency-overlay .emergency-title {
    font-size: 28px !important;
  }

  #emergency-overlay .emergency-icon {
    font-size: 60px !important;
  }

  #emergency-overlay .emergency-buttons {
    flex-direction: column !important;
    align-items: center !important;
  }

  #emergency-overlay button {
    width: 100% !important;
    max-width: 280px !important;
  }
}

@media (max-width: 480px) {
  .privacy-notification.enhanced {
    font-size: 12px !important;
    padding: 12px 16px !important;
  }

  .element-tooltip {
    font-size: 11px !important;
    padding: 6px 10px !important;
  }
}

/* ===== ACCESSIBILITY ===== */
@media (prefers-reduced-motion: reduce) {
  .privacy-shield-protected,
  .privacy-notification,
  .privacy-click-notification,
  #emergency-overlay,
  .element-tooltip {
    transition: none !important;
    animation: none !important;
  }

  .privacy-shield-protected::before {
    animation: none !important;
  }

  .privacy-shield-protected:hover {
    transform: none !important;
  }

  #emergency-overlay .emergency-icon {
    animation: none !important;
  }
}

@media (prefers-contrast: high) {
  .privacy-shield-active *:hover {
    outline-color: #000 !important;
    background: rgba(0, 0, 0, 0.1) !important;
  }

  .privacy-shield-protected {
    border-color: #000 !important;
    outline: 2px solid #000 !important;
  }

  .privacy-shield-protected::before {
    background: #000 !important;
    border-color: #fff !important;
    color: #fff !important;
  }

  .privacy-notification.enhanced {
    border: 2px solid #000 !important;
    background: #fff !important;
    color: #000 !important;
  }
}

/* ===== DARK MODE SUPPORT ===== */
@media (prefers-color-scheme: dark) {
  .privacy-shield-protected {
    background: rgba(76, 175, 80, 0.15) !important;
  }

  .privacy-notification.enhanced {
    background: rgba(32, 32, 32, 0.95) !important;
    color: #e0e0e0 !important;
    border-color: rgba(255, 255, 255, 0.1) !important;
  }

  .notification-close {
    color: #ccc !important;
  }

  .notification-close:hover {
    background: rgba(255, 255, 255, 0.1) !important;
  }
}

/* ===== PRINT STYLES ===== */
@media print {
  .privacy-notification,
  .privacy-click-notification,
  #emergency-overlay,
  .element-tooltip {
    display: none !important;
  }

  .privacy-shield-protected {
    background: #f0f0f0 !important;
    color: #000 !important;
    filter: none !important;
    outline: 2px solid #000 !important;
    border: 2px solid #000 !important;
  }

  .privacy-shield-protected::before {
    content: "[PROTECTED]" !important;
    position: static !important;
    background: none !important;
    color: #000 !important;
    font-size: 10px !important;
    font-weight: bold !important;
    width: auto !important;
    height: auto !important;
    border: none !important;
    border-radius: 0 !important;
    box-shadow: none !important;
    animation: none !important;
    display: inline !important;
  }

  .privacy-shield-protected[data-protection-mode="blackout"] {
    background: #000 !important;
    color: #fff !important;
  }

  .privacy-shield-protected[data-protection-mode="blackout"]::before {
    color: #fff !important;
  }
}

/* ===== Z-INDEX MANAGEMENT ===== */
.privacy-shield-protected {
  z-index: auto !important;
}

.privacy-shield-protected::before {
  z-index: 999996 !important;
}

.element-tooltip {
  z-index: 999997 !important;
}

.privacy-notification.enhanced {
  z-index: 999998 !important;
}

.privacy-click-notification {
  z-index: 999999 !important;
}

#emergency-overlay {
  z-index: 1000000 !important;
}

/* ===== PERFORMANCE OPTIMIZATIONS ===== */
.privacy-shield-protected,
.privacy-notification,
.privacy-click-notification {
  will-change: transform, opacity !important;
  backface-visibility: hidden !important;
  transform-style: preserve-3d !important;
}

/* ===== OVERRIDE CONFLICTING SITE STYLES ===== */
.privacy-shield-protected,
.privacy-notification,
.privacy-click-notification,
.element-tooltip {
  box-sizing: border-box !important;
  font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto,
    "Helvetica Neue", Arial, sans-serif !important;
  font-style: normal !important;
  font-variant: normal !important;
  text-decoration: none !important;
  text-transform: none !important;
  letter-spacing: normal !important;
  word-spacing: normal !important;
  direction: ltr !important;
  writing-mode: horizontal-tb !important;
}

/* Ensure visibility of all UI elements */
.privacy-notification,
.privacy-click-notification,
.element-tooltip,
#emergency-overlay {
  visibility: visible !important;
  opacity: 1 !important;
  display: block !important;
  position: fixed !important;
}
